# Ars Longa

<div align="center">
    <img src="public/ArsLonga-logo-480x480.png" width="150px" alt="Ars Longa's logo.">
</div>

Online art store using the Laravel PHP framework. Project for the course
“Software Architecture” (SI3001) taught by professor Daniel Correa at EAFIT
University during the 2025-2 semester.

## Screenshots

![Artworks list.](.docs/screenshots/ArsLonga-screenshot-artworks.png)

![Auction view.](.docs/screenshots/ArsLonga-screenshot-auction.png)

![Admin panel.](.docs/screenshots/ArsLonga-screenshot-admin_panel.png)

> [!TIP]
>
> Framed screenshots created using the [open-source web app Pika][pika].

[pika]: <https://github.com/rishimohan/pika#setting-up-the-app> "rishimohan/pika: Quickly design beautiful screenshots and open graph images."

## Requirements

- [PHP][php8.4] >= 8.4
- [Composer][composer] >= 2.8
- [MySQL][mysql] >= 8

[php8.4]: <https://www.php.net/releases/8.4/en.php> "PHP: A popular general-purpose scripting language that is especially suited to web development."
[composer]: <https://getcomposer.org/> "Composer: A Dependency Manager for PHP"
[mysql]: <https://www.mysql.com/> "MySQL: The world's most popular open source database"

## Production environment installation

Create a `.env.production` file (see the final section of the
[`.env.example`](.env.example)) and run Docker Compose:

```shell
docker compose --file compose.prod.yaml up --build --detach
```

## Development environment setup

### Install dependencies

```shell
composer install
```

### Setup environment

```shell
composer setup
```

> [!NOTE]
> The command above will run a custom Composer script, defined in
> `composer.json`, that will:
>  1. Create the `.env` from the `.env.example`
>  2. Create an encryption `APP_KEY`
>  3. Create an empty `database/database.sqlite` (in case we want to use sqlite)
>  4. Run migrations
>  5. Seed the database
>  6. Symlink `public/storage` to `storage/app/public`

### Customize `.env` (optional)

If you want to use MySQL, change the `DB_*` variables in `.env` with your config:

```
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=arslonga
DB_USERNAME=root
DB_PASSWORD=root
```

> [!WARNING]
> You must create the `DB_DATABASE` yourself. We're not automating that for you.

### Start up development server

```shell
composer dev
```

Or, if you don't want to rely on npm, or use pail, etc:

```shell
php artisan serve
```

## Git hooks

We use the [lefthook Git hooks manager][lefthook] to run pre-commit hooks that:

1. Automatically format and stage PHP code using [Laravel Pint][pint]

2. Perform static analysis on the PHP code using [Larastan][larastan]

3. Format Blade templates using the [shufo/blade-formatter][blade-formatter]

4. Checks for missing translation files or strings using the
   [Laravel translations checker][translations-checker]

5. Generate autocompletion for models with [laravel-ide-helper][laravel-ide-helper]

[lefthook]: <https://lefthook.dev/> "evilmartians/lefthook: Fast and powerful Git hooks manager for any type of projects."
[pint]: <https://github.com/laravel/pint> "laravel/pint: Laravel Pint is an opinionated PHP code style fixer for minimalists."
[larastan]: <https://github.com/larastan/larastan> "larastan/larastan: Adds code analysis to Laravel improving developer productivity and code quality"
[blade-formatter]: <https://github.com/shufo/blade-formatter> "shufo/blade-formatter: An opinionated blade template formatter for Laravel that respects readability"
[translations-checker]: <https://github.com/LarsWiegers/laravel-translations-checker> "LarsWiegers/laravel-translations-checker: Never worry about missing translations again! Use the translations checker."
[laravel-ide-helper]: <https://github.com/barryvdh/laravel-ide-helper> "barryvdh/laravel-ide-helper: This package generates helper files that enable your IDE to provide accurate autocompletion."

> [!TIP]
>
> Take a look at the [config/lefthook.yaml](config/lefthook.yaml) file.

## API

The API route is `/api/`.

You may access the `/docs/api` route to read the OpenAPI documentation
automatically generated by [Scramble][scramble].

[scramble]: <https://scramble.dedoc.co/> "Scramble – Laravel OpenAPI (Swagger) Documentation Generator"

![Ars Longa API documentation.](.docs/screenshots/ArsLonga-screenshot-docs_api.png)

> [!TIP]
>
> See [`ArtworkResource`](app/Http/Resources/ArtworkResource.php) for an example
> on how to document the response attributes of your API endpoint. If you want
> to see more, check out the [official Scramble demo][scramble-demo].

[scramble-demo]: <https://github.com/dedoc/demo-scramble> "dedoc/demo-scramble: A project for demonstrating Scramble automated API documentation."

## Contributing

I know you might not open a PR, but if you were to…

- Follow the [coding standards][cst] of the project.

- Format your code as directed by the [style guide][stg] of the project.

[cst]: <https://github.com/luismtorresv/ArsLonga/wiki/Coding-standards> "Ars Longa coding standards"
[stg]: <https://github.com/luismtorresv/ArsLonga/wiki/Style-guide> "Ars Longa style guide"

- And familiarize yourself with these two diagrams:

  | Class diagram            | Architecture diagram           |
  | ------------------------ | ------------------------------ |
  | ![Class diagram.][class] | ![Architecture diagram.][arch] |

[class]: <https://github.com/luismtorresv/ArsLonga/wiki/media/ArsLonga-class_diagram-deliverable_2.png>
[arch]: <https://github.com/luismtorresv/ArsLonga/wiki/media/ArsLonga-MVC_diagram-deliverable_2.png>

> [!TIP]
>
> Source files for both [the class diagram (PlantUML)][cdpuml] and
> [the architecture diagram][addwio].

[cdpuml]: <https://github.com/luismtorresv/ArsLonga/wiki/media/ArsLonga-class_diagram-deliverable_2.puml>
[addwio]: <https://github.com/luismtorresv/ArsLonga/wiki/media/ArsLonga-MVC_diagram-deliverable_2.drawio>

## Authors

1. Jerónimo Acosta
2. Wendy Benítez
3. Luis Torres

## License

Copyright 2025 The Authors

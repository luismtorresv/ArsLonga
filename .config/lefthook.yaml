assert_lefthook_installed: true
min_version: 2.0.0

pre-commit:
  # parallel: true
  follow: true
  jobs:
    - name: static analysis
      tags:
        - backend
        - static-analysis
      run: ./vendor/bin/phpstan
    - name: lint backend
      tags:
        - backend
        - linters
      run: ./vendor/bin/pint {staged_files}
      stage_fixed: true
      interactive: false
    - name: lint frontend
      tags:
        - frontend
        - linters
      glob: "resources/views/**/*.blade.php"
      run: blade-formatter --write {all_files}
      stage_fixed: true
      interactive: false
    - name: check translations
      tags:
        - localization
      glob: "lang/**"
      run: php artisan translations:check
      interactive: false
